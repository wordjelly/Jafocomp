// what to index?
// for the prefixes => each and every word, including the stop words
// for the contexts
// wordgrams, 
// buy 
// buy oil
// buy oil in 
// buy oil in april
// oil
// oil in
// oil in april
// and other combinations of the words that can be made
// while searching
// to get the context ->> take all the words before the last word, and search the contexts of the prexisting query for the smallest length context that matches it, send that as the context.
// prefix is the last word.
// other option is to send the context as just that previous string.
// we can send both, with a higher weightage for this one.

<div class="col l2 m2 s2 center">
    <div class="grey-text text-lighten-1" style="font-size: 24px;">Avg Profit</div>
    <div class="amber-text" style="font-size: 18px;">{{= val.average_profit }}%</div>
</div>
<div class="col l2 m2 s2 center">
    <div class="grey-text text-lighten-1" style="font-size: 24px;">Avg Loss</div>
    <div class="black-text" style="font-size: 18px;">{{= val.average_loss }}%</div>
</div>

1. up_down - DONE
2. standard deviation days - the superscript issue.
-----------------------------------------------------------
8th november
------------
3. sma_cross - summarizing this - okay here we have a small problem.(we change the way the indicator is named -> simple moving averages cross (3 -> 17)) -> on click it should transform ? so let us see how it looks, also the charting options.(this is pending.)
so we have a regex on the setup, and add a 
we are trying to modify the element itself.
4. remove see-more - DONE
5. d3 charts -> sharable(this is pending) --> so this one is pending, and the other one also (we use the bubble charts, and also summarize the findings, both come in the same thing.)
6. underline or tags for the names of the entities

## gathering of inferences.
## like - let me do better formatting and then 
## title blue-grey, links, limit text, capitalize
## then move to charting ? or what ?
-----------------------------------------------------------
9th november -> was supposed to finish all this today.
------------
7. notable points simple english summary
8. adding icons for calendar events/for the stocks themselves.
9. description of the subindicator can be given below, as well as the indicator -> this i want to finish today
together with range tests, and do the payumoney.
-----------------------------------------------------------
10th november
-------------
10. proximity and rescoring search -> this i will do last.
11. checking the calculation accuracy.
-----------------------------------------------------------

if you want it to work, that is what it will take.
=============================================================
no more features beyond this will be implemented.
current progress is approximately 3 features per day.
based on that timeline, this project should be completed by sunday evening, come what may.
after that we design google ads for one week, or take the decision for climate data -> for the wow factor (max one week => actually both)
=============================================================

# just make it a superscript, you can't solve it all.

--> i think i am within 1 week of getting this done -> maybe if i can manage the d3 and icons, part, then i can leave the proximity scoring for the end -> and that will be the end of all things, and then the checking why all the calculations are wrong.

9. calling it a day.

after this we go for better sorting. 
that will be the end of it.
by this weekend i think this project stage one will be completed.

## these three are the main things.


3.nifty 50 monday -> gives the first two as the closest mondays, but is not giving simple monday -> directly jumps to further shit - this is again about weightage and proximity and nothing more.


6.nifty bank index sets a 3 day high, in 2016 there are only 3 incidences ?



8. for time based -> more weightage for nearness
9. for correlation -> more weightage for profit.


calendar symbol
better presentation for the time data -> need nice charts from d3.
checking the calculation accuracy.
i want to cover this on sunday i.e tomorrow -> i want to finish.

## On the third saturday of the month, Nifty performed well in 2019,2011, and 2012, rising 69% of the times.
## It performed poorly in 2015 and 2016.
## In the present year it has risen 50% of the times.

## Nifty-50 rose in November in 9 out of the last 10 years
## The maximum rises was in 2010, the maximum fall in 2020
## Over the last 10 years, Nifty-50 rose in November 8 times.  

---------------------------------------------------------
1. too many confusing options in the dropdown -> i want the nearest one first - relevance for tuesday -> should be simple tuesday first rather than last tuesday of the month.
2. 2020 is coming in too many time based results
3. cross correlations are not being calculated at all, probably because its a sunday ? -> check for this.
4. What happens to Nifty 50 when Adani Ports sets a 1 week high -- wrongly interpreted as a time based subindicator.
5. tell that it is for the next day.
6. clicking on the pattern's doesn't show the result.
7. What happens to Nifty Bank Index in December(999.99 % is getting considered in this result)
- so we can solve the remaining test and fix these issues first.
- what happens to adani on (on and monday get mixed up in the autocomplete)
- reduce the number of results (5)
- that should be enough.
---------------------------------------------------------
i have to close what today ?
that is the main thing.
---------------------------------------------------------
ON CLICK THE SEARCH MOVE IT ALL UP IMMEDIATELY.
1. trends :Indian-Banks tends to rise on the 1st Thursday of the quarter (Thu 02 Jan) -> this should not have been shown, as its margin is only 52%
2. What happens to Tata Steel when Cac 's volume falls by 1.25x standard deviation (31 Dec 2019) -> giving total and absolute shit.
3. tata steel cac -> shows only one reesult ? why?
6. ongc grasim does not work
7. ongc reliance does not work
8. baja-auto only has 5 years of data ? why.
9. scroll bar shrinks sometimes and shows only one result. (why ?)[FIRST PRIORITY], dropdown bar obscures search bar in mobile view[SECOND PRIORITY -> MOVE THE SEARCH BAR ALL THE WAY TO THE TOP -> THAT'S THE ONLY WAY, NO MARGINS NOTHING.]
10. What happens to Nifty 50 on the last Tuesday of the quarter (14 Jan 2020)(this is not the last tuesday of the quarter.)
11. fire query on space/hitting search, not on every word.
12. What happens to Nifty 50 when Reliance falls by 30% of standard deviation(not showing reliance price.)
13. Show get latest price some place better.
14. What happens to Adidas when Nifty 50 's RSI Indicator moving averages cross (730,28) (10 Jan 2020) - this bracketing should not happen.
15. two dots after reacted negatively.
- quarter issue.
- space query firing.
- integrate clicking on icons for searching also sectors.
- What happens to Adani Ports when Nifty Bank Index 's high rises (17 Jan 2020)(price for bank index was not there on the 17th so it could not have been generated like this, so we need to check this)
- typing nifty-50 should yield thursday(16th) as the first result, it is giving friday (17th), when again there was no value on the 17th but it was just run on the 17th.
- so why is it giving the date on which it was run(check nifty bank index, last date -> that is the first issue actually, check its latest price.)

- currently if a download is runnning, the poller does not run
- and if the job publisher list is not empty, the download does not run.
- we want that the download cycle is run every hour
- it should only download an exchange if at least 2 hours have passed after its closing time
- so we start at that time.
- and if to download the exchange or not is decide at exchange_builder_level itself.
- what about scoring issue.

- basically at this stage if i wanted to know what had happened what do i want to know

---------------------------------------------------------------------
- last week of january, january, last week of the month etc.
- trace -> logging of a score of a complex, if i click on it, i should be able to get the trace of the score (maybe store it on the complex itself  -> yes like this.
- trace -> the exact back calculation of the complex itself -> also store on the complex
- timing logging not working for complex calcultion

---> how to make it easier for the user to understand and use?
- mainly easier discoverability of the deeper indicators, currently we are only on top level patterns, and indicators., we don't get much else.
- share predictions.
- give some randomized company names and indicator name combinations as search results
- show the yearwise splitup.
- other positive indicators for reliance / other negative indicators for reliance.
- filter on positive or negative indicators (somehow, and with a query string also -> give such links.)

----------------------------------------------------------------------
ERRORS AND BUG FIXING:
reliance nasdaq 100 - shows only 2 results, when there should be many more.